"use strict";

class DebugInfo {
  constructor(config) {
    this.config = config;
    this.count = 0;
  }

  static get rule() {
    return 'debug-info';
  }

  any() {
    return {
      onEnter: () => {
        this.count += 1;
        if (this.count % 1000 === 0) process.stdout.write(`Processed: ${this.count}\n`);
      }
    };
  }

  OpenAPIRoot() {
    return {
      onEnter: (node, def, ctx) => {
        process.stdout.write(`${ctx.config}\n`);
      },
      onExit: () => {
        process.stdout.write(`${this.count}`);
      }
    };
  }

}

module.exports = DebugInfo;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92aXNpdG9ycy9kZWJ1Zy1pbmZvLmpzIl0sIm5hbWVzIjpbIkRlYnVnSW5mbyIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiY291bnQiLCJydWxlIiwiYW55Iiwib25FbnRlciIsInByb2Nlc3MiLCJzdGRvdXQiLCJ3cml0ZSIsIk9wZW5BUElSb290Iiwibm9kZSIsImRlZiIsImN0eCIsIm9uRXhpdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsU0FBTixDQUFnQjtBQUNkQyxFQUFBQSxXQUFXLENBQUNDLE1BQUQsRUFBUztBQUNsQixTQUFLQSxNQUFMLEdBQWNBLE1BQWQ7QUFDQSxTQUFLQyxLQUFMLEdBQWEsQ0FBYjtBQUNEOztBQUVELGFBQVdDLElBQVgsR0FBa0I7QUFDaEIsV0FBTyxZQUFQO0FBQ0Q7O0FBRURDLEVBQUFBLEdBQUcsR0FBRztBQUNKLFdBQU87QUFDTEMsTUFBQUEsT0FBTyxFQUFFLE1BQU07QUFDYixhQUFLSCxLQUFMLElBQWMsQ0FBZDtBQUNBLFlBQUksS0FBS0EsS0FBTCxHQUFhLElBQWIsS0FBc0IsQ0FBMUIsRUFBNkJJLE9BQU8sQ0FBQ0MsTUFBUixDQUFlQyxLQUFmLENBQXNCLGNBQWEsS0FBS04sS0FBTSxJQUE5QztBQUM5QjtBQUpJLEtBQVA7QUFNRDs7QUFFRE8sRUFBQUEsV0FBVyxHQUFHO0FBQ1osV0FBTztBQUNMSixNQUFBQSxPQUFPLEVBQUUsQ0FBQ0ssSUFBRCxFQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDM0JOLFFBQUFBLE9BQU8sQ0FBQ0MsTUFBUixDQUFlQyxLQUFmLENBQXNCLEdBQUVJLEdBQUcsQ0FBQ1gsTUFBTyxJQUFuQztBQUNELE9BSEk7QUFJTFksTUFBQUEsTUFBTSxFQUFFLE1BQU07QUFDWlAsUUFBQUEsT0FBTyxDQUFDQyxNQUFSLENBQWVDLEtBQWYsQ0FBc0IsR0FBRSxLQUFLTixLQUFNLEVBQW5DO0FBQ0Q7QUFOSSxLQUFQO0FBUUQ7O0FBNUJhOztBQStCaEJZLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmhCLFNBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRGVidWdJbmZvIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHJ1bGUoKSB7XG4gICAgcmV0dXJuICdkZWJ1Zy1pbmZvJztcbiAgfVxuXG4gIGFueSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25FbnRlcjogKCkgPT4ge1xuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgICAgIGlmICh0aGlzLmNvdW50ICUgMTAwMCA9PT0gMCkgcHJvY2Vzcy5zdGRvdXQud3JpdGUoYFByb2Nlc3NlZDogJHt0aGlzLmNvdW50fVxcbmApO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgT3BlbkFQSVJvb3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uRW50ZXI6IChub2RlLCBkZWYsIGN0eCkgPT4ge1xuICAgICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZShgJHtjdHguY29uZmlnfVxcbmApO1xuICAgICAgfSxcbiAgICAgIG9uRXhpdDogKCkgPT4ge1xuICAgICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZShgJHt0aGlzLmNvdW50fWApO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRGVidWdJbmZvO1xuIl19