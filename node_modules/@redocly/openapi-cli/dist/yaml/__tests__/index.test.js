"use strict";

var _fs = _interopRequireDefault(require("fs"));

var _index = require("../index");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe("getLocationByPath", () => {
  test("", () => {
    const context = {
      source: _fs.default.readFileSync("./definitions/syntetic/syntetic-1.yaml", "utf-8")
    };
    expect((0, _index.getLocationByPath)(["paths", "user", "get", "responses", "200"], context, "key")).toMatchInlineSnapshot(`
      Object {
        "endCol": 14,
        "endIndex": 456,
        "endLine": 25,
        "startCol": 9,
        "startIndex": 451,
        "startLine": 25,
      }
    `);
  });
  test("", () => {
    const context = {
      source: _fs.default.readFileSync("./definitions/syntetic/syntetic-1.yaml", "utf-8")
    };
    expect((0, _index.getLocationByPath)([""], context, "key")).toMatchInlineSnapshot(`
      Object {
        "endCol": 14,
        "endIndex": 14,
        "endLine": 1,
        "startCol": 0,
        "startIndex": 0,
        "startLine": 1,
      }
    `);
  });
  test("", () => {
    const context = {
      source: _fs.default.readFileSync("./definitions/syntetic/syntetic-1.yaml", "utf-8")
    };
    expect((0, _index.getLocationByPath)(["paths", "user", "parameters", "0"], context, "key")).toMatchInlineSnapshot(`
      Object {
        "endCol": 47,
        "endIndex": 361,
        "endLine": 20,
        "startCol": 9,
        "startIndex": 322,
        "startLine": 20,
      }
    `);
  });
  test("", () => {
    const context = {
      source: _fs.default.readFileSync("./definitions/syntetic/syntetic-1.yaml", "utf-8")
    };
    expect((0, _index.getLocationByPath)(["paths", "user", "parameters", "0", "ttt"], context, "key")).toMatchInlineSnapshot(`
      Object {
        "endCol": 47,
        "endIndex": 361,
        "endLine": 20,
        "startCol": 9,
        "startIndex": 322,
        "startLine": 20,
      }
    `);
  });
  test("", () => {
    const context = {
      source: _fs.default.readFileSync("./definitions/syntetic/syntetic-1.yaml", "utf-8")
    };
    expect((0, _index.getLocationByPath)(["paths", "user", "get", "responses", "200"], context, "value")).toMatchInlineSnapshot(`
      Object {
        "endCol": 28,
        "endIndex": 600,
        "endLine": 30,
        "startCol": 9,
        "startIndex": 451,
        "startLine": 25,
      }
    `);
  });
});
describe("getCodeFrameForLocation", () => {
  test("", () => {
    const source = _fs.default.readFileSync("./definitions/syntetic/syntetic-1.yaml", "utf-8");

    expect((0, _index.getCodeFrameForLocation)(276, 281, source)).toMatchInlineSnapshot(`
      "[90m1| [39m
      [90m0| servers:[39m
      [90m1|   - url: 'http://example[4m[31m.org'[90m[24m[39m
      [90m2|[39m[31m [39m
      [90m3| paths:[39m
      [90m4|   user:[39m"
    `);
  });
  test("", () => {
    const source = _fs.default.readFileSync("./definitions/syntetic/syntetic-1.yaml", "utf-8");

    expect((0, _index.getCodeFrameForLocation)(276, 425, source)).toMatchInlineSnapshot(`
      "[90m-1| [39m
      [90m00| servers:[39m
      [90m01|   - url: 'http://example[4m[31m.org'[90m[24m[39m
      [90m02|[39m[31m [4m[31m[31m[24m[39m
      [90m03|[39m[31m [4m[31mpaths:[31m[24m[39m
      [90m04|[39m[31m [4m[31m  user:[31m[24m[39m
      [90m05|[39m[31m [4m[31m    parameters:[31m[24m[39m
      [90m06|[39m[31m [4m[31m      - $ref: '#/components/parameters/example'[31m[24m[39m
      [90m07|[39m[31m [4m[31m    get:[31m[24m[39m
      [90m08|[39m[31m [4m[31m      operationId: userGet[31m[24m[39m
      [90m09|[39m[31m [4m[31m      description: Get user[31m[24m[39m
      [90m10|       responses:[39m
      [90m11|         '200':[39m"
    `);
  });
  test("", () => {
    const source = _fs.default.readFileSync("./definitions/syntetic/syntetic-1.yaml", "utf-8");

    expect((0, _index.getCodeFrameForLocation)(0, 7, source)).toMatchInlineSnapshot(`
      "[90m1| [4m[31mopenapi[90m[24m: 3.0.2[39m
      [90m2| info:[39m
      [90m3|   x-redocly-overlay:[39m"
    `);
  });
  test("", () => {
    const source = _fs.default.readFileSync("./definitions/syntetic/syntetic-1.yaml", "utf-8");

    expect((0, _index.getCodeFrameForLocation)(0, 14, source)).toMatchInlineSnapshot(`
      "[90m1|[39m[31m [4m[31mopenapi: 3.0.2[31m[24m[39m
      [90m2| info:[39m
      [90m3|   x-redocly-overlay:[39m"
    `);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy95YW1sL19fdGVzdHNfXy9pbmRleC50ZXN0LmpzIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwidGVzdCIsImNvbnRleHQiLCJzb3VyY2UiLCJmcyIsInJlYWRGaWxlU3luYyIsImV4cGVjdCIsInRvTWF0Y2hJbmxpbmVTbmFwc2hvdCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7OztBQUVBQSxRQUFRLENBQUMsbUJBQUQsRUFBc0IsTUFBTTtBQUNsQ0MsRUFBQUEsSUFBSSxDQUFDLEVBQUQsRUFBSyxNQUFNO0FBQ2IsVUFBTUMsT0FBTyxHQUFHO0FBQ2RDLE1BQUFBLE1BQU0sRUFBRUMsWUFBR0MsWUFBSCxDQUFnQix3Q0FBaEIsRUFBMEQsT0FBMUQ7QUFETSxLQUFoQjtBQUlBQyxJQUFBQSxNQUFNLENBQ0osOEJBQ0UsQ0FBQyxPQUFELEVBQVUsTUFBVixFQUFrQixLQUFsQixFQUF5QixXQUF6QixFQUFzQyxLQUF0QyxDQURGLEVBRUVKLE9BRkYsRUFHRSxLQUhGLENBREksQ0FBTixDQU1FSyxxQkFORixDQU15Qjs7Ozs7Ozs7O0tBTnpCO0FBZ0JELEdBckJHLENBQUo7QUF1QkFOLEVBQUFBLElBQUksQ0FBQyxFQUFELEVBQUssTUFBTTtBQUNiLFVBQU1DLE9BQU8sR0FBRztBQUNkQyxNQUFBQSxNQUFNLEVBQUVDLFlBQUdDLFlBQUgsQ0FBZ0Isd0NBQWhCLEVBQTBELE9BQTFEO0FBRE0sS0FBaEI7QUFJQUMsSUFBQUEsTUFBTSxDQUFDLDhCQUFrQixDQUFDLEVBQUQsQ0FBbEIsRUFBd0JKLE9BQXhCLEVBQWlDLEtBQWpDLENBQUQsQ0FBTixDQUFnREsscUJBQWhELENBQXVFOzs7Ozs7Ozs7S0FBdkU7QUFVRCxHQWZHLENBQUo7QUFpQkFOLEVBQUFBLElBQUksQ0FBQyxFQUFELEVBQUssTUFBTTtBQUNiLFVBQU1DLE9BQU8sR0FBRztBQUNkQyxNQUFBQSxNQUFNLEVBQUVDLFlBQUdDLFlBQUgsQ0FBZ0Isd0NBQWhCLEVBQTBELE9BQTFEO0FBRE0sS0FBaEI7QUFJQUMsSUFBQUEsTUFBTSxDQUNKLDhCQUFrQixDQUFDLE9BQUQsRUFBVSxNQUFWLEVBQWtCLFlBQWxCLEVBQWdDLEdBQWhDLENBQWxCLEVBQXdESixPQUF4RCxFQUFpRSxLQUFqRSxDQURJLENBQU4sQ0FFRUsscUJBRkYsQ0FFeUI7Ozs7Ozs7OztLQUZ6QjtBQVlELEdBakJHLENBQUo7QUFtQkFOLEVBQUFBLElBQUksQ0FBQyxFQUFELEVBQUssTUFBTTtBQUNiLFVBQU1DLE9BQU8sR0FBRztBQUNkQyxNQUFBQSxNQUFNLEVBQUVDLFlBQUdDLFlBQUgsQ0FBZ0Isd0NBQWhCLEVBQTBELE9BQTFEO0FBRE0sS0FBaEI7QUFJQUMsSUFBQUEsTUFBTSxDQUNKLDhCQUNFLENBQUMsT0FBRCxFQUFVLE1BQVYsRUFBa0IsWUFBbEIsRUFBZ0MsR0FBaEMsRUFBcUMsS0FBckMsQ0FERixFQUVFSixPQUZGLEVBR0UsS0FIRixDQURJLENBQU4sQ0FNRUsscUJBTkYsQ0FNeUI7Ozs7Ozs7OztLQU56QjtBQWdCRCxHQXJCRyxDQUFKO0FBdUJBTixFQUFBQSxJQUFJLENBQUMsRUFBRCxFQUFLLE1BQU07QUFDYixVQUFNQyxPQUFPLEdBQUc7QUFDZEMsTUFBQUEsTUFBTSxFQUFFQyxZQUFHQyxZQUFILENBQWdCLHdDQUFoQixFQUEwRCxPQUExRDtBQURNLEtBQWhCO0FBSUFDLElBQUFBLE1BQU0sQ0FDSiw4QkFDRSxDQUFDLE9BQUQsRUFBVSxNQUFWLEVBQWtCLEtBQWxCLEVBQXlCLFdBQXpCLEVBQXNDLEtBQXRDLENBREYsRUFFRUosT0FGRixFQUdFLE9BSEYsQ0FESSxDQUFOLENBTUVLLHFCQU5GLENBTXlCOzs7Ozs7Ozs7S0FOekI7QUFnQkQsR0FyQkcsQ0FBSjtBQXNCRCxDQXpHTyxDQUFSO0FBMkdBUCxRQUFRLENBQUMseUJBQUQsRUFBNEIsTUFBTTtBQUN4Q0MsRUFBQUEsSUFBSSxDQUFDLEVBQUQsRUFBSyxNQUFNO0FBQ2IsVUFBTUUsTUFBTSxHQUFHQyxZQUFHQyxZQUFILENBQ2Isd0NBRGEsRUFFYixPQUZhLENBQWY7O0FBSUFDLElBQUFBLE1BQU0sQ0FBQyxvQ0FBd0IsR0FBeEIsRUFBNkIsR0FBN0IsRUFBa0NILE1BQWxDLENBQUQsQ0FBTixDQUFrREkscUJBQWxELENBQXlFOzs7Ozs7O0tBQXpFO0FBUUQsR0FiRyxDQUFKO0FBZUFOLEVBQUFBLElBQUksQ0FBQyxFQUFELEVBQUssTUFBTTtBQUNiLFVBQU1FLE1BQU0sR0FBR0MsWUFBR0MsWUFBSCxDQUNiLHdDQURhLEVBRWIsT0FGYSxDQUFmOztBQUlBQyxJQUFBQSxNQUFNLENBQUMsb0NBQXdCLEdBQXhCLEVBQTZCLEdBQTdCLEVBQWtDSCxNQUFsQyxDQUFELENBQU4sQ0FBa0RJLHFCQUFsRCxDQUF5RTs7Ozs7Ozs7Ozs7Ozs7S0FBekU7QUFlRCxHQXBCRyxDQUFKO0FBc0JBTixFQUFBQSxJQUFJLENBQUMsRUFBRCxFQUFLLE1BQU07QUFDYixVQUFNRSxNQUFNLEdBQUdDLFlBQUdDLFlBQUgsQ0FDYix3Q0FEYSxFQUViLE9BRmEsQ0FBZjs7QUFJQUMsSUFBQUEsTUFBTSxDQUFDLG9DQUF3QixDQUF4QixFQUEyQixDQUEzQixFQUE4QkgsTUFBOUIsQ0FBRCxDQUFOLENBQThDSSxxQkFBOUMsQ0FBcUU7Ozs7S0FBckU7QUFLRCxHQVZHLENBQUo7QUFZQU4sRUFBQUEsSUFBSSxDQUFDLEVBQUQsRUFBSyxNQUFNO0FBQ2IsVUFBTUUsTUFBTSxHQUFHQyxZQUFHQyxZQUFILENBQ2Isd0NBRGEsRUFFYixPQUZhLENBQWY7O0FBSUFDLElBQUFBLE1BQU0sQ0FBQyxvQ0FBd0IsQ0FBeEIsRUFBMkIsRUFBM0IsRUFBK0JILE1BQS9CLENBQUQsQ0FBTixDQUErQ0kscUJBQS9DLENBQXNFOzs7O0tBQXRFO0FBS0QsR0FWRyxDQUFKO0FBV0QsQ0E3RE8sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tIFwiZnNcIjtcbmltcG9ydCB7IGdldExvY2F0aW9uQnlQYXRoLCBnZXRDb2RlRnJhbWVGb3JMb2NhdGlvbiB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5kZXNjcmliZShcImdldExvY2F0aW9uQnlQYXRoXCIsICgpID0+IHtcbiAgdGVzdChcIlwiLCAoKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIHNvdXJjZTogZnMucmVhZEZpbGVTeW5jKFwiLi9kZWZpbml0aW9ucy9zeW50ZXRpYy9zeW50ZXRpYy0xLnlhbWxcIiwgXCJ1dGYtOFwiKVxuICAgIH07XG5cbiAgICBleHBlY3QoXG4gICAgICBnZXRMb2NhdGlvbkJ5UGF0aChcbiAgICAgICAgW1wicGF0aHNcIiwgXCJ1c2VyXCIsIFwiZ2V0XCIsIFwicmVzcG9uc2VzXCIsIFwiMjAwXCJdLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBcImtleVwiXG4gICAgICApXG4gICAgKS50b01hdGNoSW5saW5lU25hcHNob3QoYFxuICAgICAgT2JqZWN0IHtcbiAgICAgICAgXCJlbmRDb2xcIjogMTQsXG4gICAgICAgIFwiZW5kSW5kZXhcIjogNDU2LFxuICAgICAgICBcImVuZExpbmVcIjogMjUsXG4gICAgICAgIFwic3RhcnRDb2xcIjogOSxcbiAgICAgICAgXCJzdGFydEluZGV4XCI6IDQ1MSxcbiAgICAgICAgXCJzdGFydExpbmVcIjogMjUsXG4gICAgICB9XG4gICAgYCk7XG4gIH0pO1xuXG4gIHRlc3QoXCJcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICBzb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhcIi4vZGVmaW5pdGlvbnMvc3ludGV0aWMvc3ludGV0aWMtMS55YW1sXCIsIFwidXRmLThcIilcbiAgICB9O1xuXG4gICAgZXhwZWN0KGdldExvY2F0aW9uQnlQYXRoKFtcIlwiXSwgY29udGV4dCwgXCJrZXlcIikpLnRvTWF0Y2hJbmxpbmVTbmFwc2hvdChgXG4gICAgICBPYmplY3Qge1xuICAgICAgICBcImVuZENvbFwiOiAxNCxcbiAgICAgICAgXCJlbmRJbmRleFwiOiAxNCxcbiAgICAgICAgXCJlbmRMaW5lXCI6IDEsXG4gICAgICAgIFwic3RhcnRDb2xcIjogMCxcbiAgICAgICAgXCJzdGFydEluZGV4XCI6IDAsXG4gICAgICAgIFwic3RhcnRMaW5lXCI6IDEsXG4gICAgICB9XG4gICAgYCk7XG4gIH0pO1xuXG4gIHRlc3QoXCJcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICBzb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhcIi4vZGVmaW5pdGlvbnMvc3ludGV0aWMvc3ludGV0aWMtMS55YW1sXCIsIFwidXRmLThcIilcbiAgICB9O1xuXG4gICAgZXhwZWN0KFxuICAgICAgZ2V0TG9jYXRpb25CeVBhdGgoW1wicGF0aHNcIiwgXCJ1c2VyXCIsIFwicGFyYW1ldGVyc1wiLCBcIjBcIl0sIGNvbnRleHQsIFwia2V5XCIpXG4gICAgKS50b01hdGNoSW5saW5lU25hcHNob3QoYFxuICAgICAgT2JqZWN0IHtcbiAgICAgICAgXCJlbmRDb2xcIjogNDcsXG4gICAgICAgIFwiZW5kSW5kZXhcIjogMzYxLFxuICAgICAgICBcImVuZExpbmVcIjogMjAsXG4gICAgICAgIFwic3RhcnRDb2xcIjogOSxcbiAgICAgICAgXCJzdGFydEluZGV4XCI6IDMyMixcbiAgICAgICAgXCJzdGFydExpbmVcIjogMjAsXG4gICAgICB9XG4gICAgYCk7XG4gIH0pO1xuXG4gIHRlc3QoXCJcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICBzb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhcIi4vZGVmaW5pdGlvbnMvc3ludGV0aWMvc3ludGV0aWMtMS55YW1sXCIsIFwidXRmLThcIilcbiAgICB9O1xuXG4gICAgZXhwZWN0KFxuICAgICAgZ2V0TG9jYXRpb25CeVBhdGgoXG4gICAgICAgIFtcInBhdGhzXCIsIFwidXNlclwiLCBcInBhcmFtZXRlcnNcIiwgXCIwXCIsIFwidHR0XCJdLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBcImtleVwiXG4gICAgICApXG4gICAgKS50b01hdGNoSW5saW5lU25hcHNob3QoYFxuICAgICAgT2JqZWN0IHtcbiAgICAgICAgXCJlbmRDb2xcIjogNDcsXG4gICAgICAgIFwiZW5kSW5kZXhcIjogMzYxLFxuICAgICAgICBcImVuZExpbmVcIjogMjAsXG4gICAgICAgIFwic3RhcnRDb2xcIjogOSxcbiAgICAgICAgXCJzdGFydEluZGV4XCI6IDMyMixcbiAgICAgICAgXCJzdGFydExpbmVcIjogMjAsXG4gICAgICB9XG4gICAgYCk7XG4gIH0pO1xuXG4gIHRlc3QoXCJcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICBzb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhcIi4vZGVmaW5pdGlvbnMvc3ludGV0aWMvc3ludGV0aWMtMS55YW1sXCIsIFwidXRmLThcIilcbiAgICB9O1xuXG4gICAgZXhwZWN0KFxuICAgICAgZ2V0TG9jYXRpb25CeVBhdGgoXG4gICAgICAgIFtcInBhdGhzXCIsIFwidXNlclwiLCBcImdldFwiLCBcInJlc3BvbnNlc1wiLCBcIjIwMFwiXSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgXCJ2YWx1ZVwiXG4gICAgICApXG4gICAgKS50b01hdGNoSW5saW5lU25hcHNob3QoYFxuICAgICAgT2JqZWN0IHtcbiAgICAgICAgXCJlbmRDb2xcIjogMjgsXG4gICAgICAgIFwiZW5kSW5kZXhcIjogNjAwLFxuICAgICAgICBcImVuZExpbmVcIjogMzAsXG4gICAgICAgIFwic3RhcnRDb2xcIjogOSxcbiAgICAgICAgXCJzdGFydEluZGV4XCI6IDQ1MSxcbiAgICAgICAgXCJzdGFydExpbmVcIjogMjUsXG4gICAgICB9XG4gICAgYCk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKFwiZ2V0Q29kZUZyYW1lRm9yTG9jYXRpb25cIiwgKCkgPT4ge1xuICB0ZXN0KFwiXCIsICgpID0+IHtcbiAgICBjb25zdCBzb3VyY2UgPSBmcy5yZWFkRmlsZVN5bmMoXG4gICAgICBcIi4vZGVmaW5pdGlvbnMvc3ludGV0aWMvc3ludGV0aWMtMS55YW1sXCIsXG4gICAgICBcInV0Zi04XCJcbiAgICApO1xuICAgIGV4cGVjdChnZXRDb2RlRnJhbWVGb3JMb2NhdGlvbigyNzYsIDI4MSwgc291cmNlKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgIFwiXHUwMDFiWzkwbTF8IFx1MDAxYlszOW1cbiAgICAgIFx1MDAxYls5MG0wfCBzZXJ2ZXJzOlx1MDAxYlszOW1cbiAgICAgIFx1MDAxYls5MG0xfCAgIC0gdXJsOiAnaHR0cDovL2V4YW1wbGVcdTAwMWJbNG1cdTAwMWJbMzFtLm9yZydcdTAwMWJbOTBtXHUwMDFiWzI0bVx1MDAxYlszOW1cbiAgICAgIFx1MDAxYls5MG0yfFx1MDAxYlszOW1cdTAwMWJbMzFtIFx1MDAxYlszOW1cbiAgICAgIFx1MDAxYls5MG0zfCBwYXRoczpcdTAwMWJbMzltXG4gICAgICBcdTAwMWJbOTBtNHwgICB1c2VyOlx1MDAxYlszOW1cIlxuICAgIGApO1xuICB9KTtcblxuICB0ZXN0KFwiXCIsICgpID0+IHtcbiAgICBjb25zdCBzb3VyY2UgPSBmcy5yZWFkRmlsZVN5bmMoXG4gICAgICBcIi4vZGVmaW5pdGlvbnMvc3ludGV0aWMvc3ludGV0aWMtMS55YW1sXCIsXG4gICAgICBcInV0Zi04XCJcbiAgICApO1xuICAgIGV4cGVjdChnZXRDb2RlRnJhbWVGb3JMb2NhdGlvbigyNzYsIDQyNSwgc291cmNlKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgIFwiXHUwMDFiWzkwbS0xfCBcdTAwMWJbMzltXG4gICAgICBcdTAwMWJbOTBtMDB8IHNlcnZlcnM6XHUwMDFiWzM5bVxuICAgICAgXHUwMDFiWzkwbTAxfCAgIC0gdXJsOiAnaHR0cDovL2V4YW1wbGVcdTAwMWJbNG1cdTAwMWJbMzFtLm9yZydcdTAwMWJbOTBtXHUwMDFiWzI0bVx1MDAxYlszOW1cbiAgICAgIFx1MDAxYls5MG0wMnxcdTAwMWJbMzltXHUwMDFiWzMxbSBcdTAwMWJbNG1cdTAwMWJbMzFtXHUwMDFiWzMxbVx1MDAxYlsyNG1cdTAwMWJbMzltXG4gICAgICBcdTAwMWJbOTBtMDN8XHUwMDFiWzM5bVx1MDAxYlszMW0gXHUwMDFiWzRtXHUwMDFiWzMxbXBhdGhzOlx1MDAxYlszMW1cdTAwMWJbMjRtXHUwMDFiWzM5bVxuICAgICAgXHUwMDFiWzkwbTA0fFx1MDAxYlszOW1cdTAwMWJbMzFtIFx1MDAxYls0bVx1MDAxYlszMW0gIHVzZXI6XHUwMDFiWzMxbVx1MDAxYlsyNG1cdTAwMWJbMzltXG4gICAgICBcdTAwMWJbOTBtMDV8XHUwMDFiWzM5bVx1MDAxYlszMW0gXHUwMDFiWzRtXHUwMDFiWzMxbSAgICBwYXJhbWV0ZXJzOlx1MDAxYlszMW1cdTAwMWJbMjRtXHUwMDFiWzM5bVxuICAgICAgXHUwMDFiWzkwbTA2fFx1MDAxYlszOW1cdTAwMWJbMzFtIFx1MDAxYls0bVx1MDAxYlszMW0gICAgICAtICRyZWY6ICcjL2NvbXBvbmVudHMvcGFyYW1ldGVycy9leGFtcGxlJ1x1MDAxYlszMW1cdTAwMWJbMjRtXHUwMDFiWzM5bVxuICAgICAgXHUwMDFiWzkwbTA3fFx1MDAxYlszOW1cdTAwMWJbMzFtIFx1MDAxYls0bVx1MDAxYlszMW0gICAgZ2V0Olx1MDAxYlszMW1cdTAwMWJbMjRtXHUwMDFiWzM5bVxuICAgICAgXHUwMDFiWzkwbTA4fFx1MDAxYlszOW1cdTAwMWJbMzFtIFx1MDAxYls0bVx1MDAxYlszMW0gICAgICBvcGVyYXRpb25JZDogdXNlckdldFx1MDAxYlszMW1cdTAwMWJbMjRtXHUwMDFiWzM5bVxuICAgICAgXHUwMDFiWzkwbTA5fFx1MDAxYlszOW1cdTAwMWJbMzFtIFx1MDAxYls0bVx1MDAxYlszMW0gICAgICBkZXNjcmlwdGlvbjogR2V0IHVzZXJcdTAwMWJbMzFtXHUwMDFiWzI0bVx1MDAxYlszOW1cbiAgICAgIFx1MDAxYls5MG0xMHwgICAgICAgcmVzcG9uc2VzOlx1MDAxYlszOW1cbiAgICAgIFx1MDAxYls5MG0xMXwgICAgICAgICAnMjAwJzpcdTAwMWJbMzltXCJcbiAgICBgKTtcbiAgfSk7XG5cbiAgdGVzdChcIlwiLCAoKSA9PiB7XG4gICAgY29uc3Qgc291cmNlID0gZnMucmVhZEZpbGVTeW5jKFxuICAgICAgXCIuL2RlZmluaXRpb25zL3N5bnRldGljL3N5bnRldGljLTEueWFtbFwiLFxuICAgICAgXCJ1dGYtOFwiXG4gICAgKTtcbiAgICBleHBlY3QoZ2V0Q29kZUZyYW1lRm9yTG9jYXRpb24oMCwgNywgc291cmNlKSkudG9NYXRjaElubGluZVNuYXBzaG90KGBcbiAgICAgIFwiXHUwMDFiWzkwbTF8IFx1MDAxYls0bVx1MDAxYlszMW1vcGVuYXBpXHUwMDFiWzkwbVx1MDAxYlsyNG06IDMuMC4yXHUwMDFiWzM5bVxuICAgICAgXHUwMDFiWzkwbTJ8IGluZm86XHUwMDFiWzM5bVxuICAgICAgXHUwMDFiWzkwbTN8ICAgeC1yZWRvY2x5LW92ZXJsYXk6XHUwMDFiWzM5bVwiXG4gICAgYCk7XG4gIH0pO1xuXG4gIHRlc3QoXCJcIiwgKCkgPT4ge1xuICAgIGNvbnN0IHNvdXJjZSA9IGZzLnJlYWRGaWxlU3luYyhcbiAgICAgIFwiLi9kZWZpbml0aW9ucy9zeW50ZXRpYy9zeW50ZXRpYy0xLnlhbWxcIixcbiAgICAgIFwidXRmLThcIlxuICAgICk7XG4gICAgZXhwZWN0KGdldENvZGVGcmFtZUZvckxvY2F0aW9uKDAsIDE0LCBzb3VyY2UpKS50b01hdGNoSW5saW5lU25hcHNob3QoYFxuICAgICAgXCJcdTAwMWJbOTBtMXxcdTAwMWJbMzltXHUwMDFiWzMxbSBcdTAwMWJbNG1cdTAwMWJbMzFtb3BlbmFwaTogMy4wLjJcdTAwMWJbMzFtXHUwMDFiWzI0bVx1MDAxYlszOW1cbiAgICAgIFx1MDAxYls5MG0yfCBpbmZvOlx1MDAxYlszOW1cbiAgICAgIFx1MDAxYls5MG0zfCAgIHgtcmVkb2NseS1vdmVybGF5Olx1MDAxYlszOW1cIlxuICAgIGApO1xuICB9KTtcbn0pO1xuIl19